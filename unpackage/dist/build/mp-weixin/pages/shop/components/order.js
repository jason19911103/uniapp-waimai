(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/components/order"],{"143b":function(t,i,e){"use strict";e.r(i);var a=e("7502"),r=e("33ac");for(var n in r)"default"!==n&&function(t){e.d(i,t,(function(){return r[t]}))}(n);e("d704");var o,s=e("f0c5"),c=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,"d71b35fe",null,!1,a["a"],o);i["default"]=c.exports},"33ac":function(t,i,e){"use strict";e.r(i);var a=e("51ba"),r=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=r.a},"51ba":function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={props:{itemdata:Object},data:function(){return{flat:!1,numing:0,isActive:!1,orderclass:[],ordertitle:"",classifarr:[],commodity:[],physical:Number,delivering:Number,amount:"",arrtotalPrice:[],Takeawayprice:0,Takeleng:0,difference:"",MerchantId:"",nameshop:"",logo:""}},methods:{ordermeClic:function(t,i){this.numing=t,this.ordertitle=i,this.classifarr=this.itemdata[this.orderclass[this.numing]],console.log(this.classifarr)},plus:function(t,i,e,a){this.amount=Number(t)+Number(1),this.pullData(i,e,a)},minus:function(t,i,e,a){this.amount=Number(t)-Number(1),this.pullData(i,e,a)},pullData:function(t,i,e){var a=this,r=this.classifarr.filter((function(i,e){if(i.id==t)return a.amount<1?i.amount="0":i.amount=a.amount}));this.classifarr[i]=r[0],Number(this.amount)<=0&&(this.amount=0);var n=e*Number(this.amount),o=parseFloat(n.toFixed(10)),s={id:t,Totalprice:o,amount:this.amount,price:e};this.arrtotalPrice.push(s);var c=this.arrtotalPrice.map((function(i){return i.id==t?s:i}));this.arrtotalPrice=c,console.log(this.arrtotalPrice)}},computed:{settLement:function(){var i=this;console.log("去结算");var e=t.getStorageSync("usermen");if(e){console.log("已经登录");var a=parseFloat((this.Takeawayprice+this.physical).toFixed(10)),r={payment:a,physical:this.physical,openid:e.openid,MerchantId:this.MerchantId,nameshop:this.nameshop,logo:this.logo,allorder:this.Takeleng},n=JSON.stringify(r);wx.navigateTo({url:"../placeorder/placeorder?ide="+n})}else console.log("用户没有登录"),this.$nextTick((function(){i.$refs.mon.init()}))},calculation:function(){var t=this,i={},e=this.arrtotalPrice.reduce((function(t,e){return!i[e.id]&&(i[e.id]=t.push(e)),t}),[]);console.log(e),this.Takeleng=0,e.forEach((function(i){0!=i.Totalprice&&(t.Takeleng+=i.amount)}));var a=0;e.forEach((function(t){a+=t.Totalprice})),this.Takeawayprice=parseFloat(a.toFixed(10))},condition:function(){if(0===this.Takeawayprice)this.isActive=!1,this.flat=!1;else if(this.isActive=!0,this.flat=!0,this.Takeawayprice<this.delivering){var t=parseFloat((this.delivering-this.Takeawayprice).toFixed(10));this.difference="还差"+t+"元",this.flat=!1}else this.difference="去结算",this.flat=!0}},watch:{itemdata:function(t){for(var i in t)this.orderclass.push(i),this.itemdata[i].map((function(t){var i="amount",e=0;return t[i]=e}));this.classifarr=t[this.orderclass[0]],this.ordertitle=this.orderclass[0]}}};i.default=e}).call(this,e("543d")["default"])},"71f3":function(t,i,e){},7502:function(t,i,e){"use strict";var a,r=function(){var t=this,i=t.$createElement;t._self._c;t._isMounted||(t.e0=function(i){t.flat&&t.settLement()})},n=[];e.d(i,"b",(function(){return r})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}))},d704:function(t,i,e){"use strict";var a=e("71f3"),r=e.n(a);r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/shop/components/order-create-component',
    {
        'pages/shop/components/order-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("143b"))
        })
    },
    [['pages/shop/components/order-create-component']]
]);
