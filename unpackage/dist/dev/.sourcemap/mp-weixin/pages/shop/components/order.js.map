{"version":3,"sources":["webpack:///E:/yiye-frontend/pages/shop/components/order.vue?fd54","webpack:///E:/yiye-frontend/pages/shop/components/order.vue?a63a","webpack:///E:/yiye-frontend/pages/shop/components/order.vue?908e","webpack:///E:/yiye-frontend/pages/shop/components/order.vue?b711","webpack:///E:/yiye-frontend/pages/shop/components/order.vue?a82a","webpack:///E:/yiye-frontend/pages/shop/components/order.vue?0c85","webpack:///E:/yiye-frontend/pages/shop/components/order.vue"],"names":["props","itemdata","Object","data","flat","numing","isActive","orderclass","ordertitle","classifarr","commodity","physical","Number","delivering","amount","arrtotalPrice","Takeawayprice","Takeleng","difference","MerchantId","nameshop","logo","methods","ordermeClic","index","itemclass","console","log","plus","amounts","id","price","pullData","minus","findarr","filter","item","Totalnum","Totalprice","parseFloat","toFixed","fands","push","findarrdata","map","computed","calculation","arr","arrdata","reduce","preVal","curVal","forEach","numdata","condition","preceMen","watch","key","value"],"mappings":"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","file":"pages/shop/components/order.js","sourcesContent":["import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&id=73d79aaa&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&id=73d79aaa&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1586518966300\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=73d79aaa&scoped=true&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&id=73d79aaa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73d79aaa\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/yiye-frontend/pages/shop/components/order.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=template&id=73d79aaa&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.flat && _vm.settLement()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tprops: {\n\t\titemdata: Object,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// 禁止点击\n\t\t\tflat: false,\n\t\t\t// 商品分类左边\n\t\t\tnuming: 0,\n\t\t\tisActive: false,\n\t\t\t// 左边的分类\n\t\t\torderclass: [],\n\t\t\t// 右边默认展示的分类\n\t\t\tordertitle: '',\n\t\t\t// 右边默认展示的商品名称\n\t\t\tclassifarr: [],\n\t\t\t// 所有的商品数据\n\t\t\tcommodity: [],\n\t\t\t// 配送费\n\t\t\tphysical: Number,\n\t\t\t// 起送费\n\t\t\tdelivering: Number,\n\t\t\t// 商品数量\n\t\t\tamount: '',\n\t\t\t// 存放得到总价的商品\n\t\t\tarrtotalPrice: [],\n\t\t\t// 所有商品累积的总价\n\t\t\tTakeawayprice: 0,\n\t\t\t// 选择了几份商品\n\t\t\tTakeleng: 0,\n\t\t\t//还差多少满足起送金额\n\t\t\tdifference: '',\n\t\t\t// 商家标识\n\t\t\tMerchantId: '',\n\t\t\t// 商家名称\n\t\t\tnameshop: '',\n\t\t\t// 商家logo\n\t\t\tlogo: ''\n\t\t}\n\t},\n\n\tmethods: {\n\n\t\t// 左边商品分类的切换\n\t\tordermeClic(index, itemclass) {\n\n\n\t\t\tthis.numing = index\n\t\t\tthis.ordertitle = itemclass\n\t\t\tthis.classifarr = this.itemdata[this.orderclass[this.numing]]\n\t\t\tconsole.log(this.classifarr)\n\t\t},\n\n \t\t// 加价\n\t\tplus(amounts, id, index, price) {\n\t\t\t// log(amounts)\n\t\t\t// 商品数量\n\t\t\tthis.amount = Number(amounts) + Number(1)\n\t\t\t//console.log(this.amount)\n\t\t\tthis.pullData(id, index, price)\n\t\t},\n\n\t\t// 减价\n\t\tminus(amounts, id, index, price) {\n\t\t\t// log(amounts)\n\t\t\t// 商品数量\n\t\t\tthis.amount = Number(amounts) - Number(1)\n\t\t\t// log(this.amount)\n\t\t\tthis.pullData(id, index, price)\n\t\t},\n\n\t\t// 加减价公用函数\n\t\t// pullData(indexs,indexdata,price,image,input)\n\t\tpullData(id, index, price) {\n\t\t\tlet findarr = this.classifarr.filter((item, index) => {\n\t\t\t\tif (item.id == id) {\n\t\t\t\t\tif (this.amount < 1) {\n\t\t\t\t\t\treturn item.amount = '0'\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn item.amount = this.amount\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t// log(findarr)\n\t\t\t// 得到更改的数组重新更新classifarr数组，数组顺序要保持不变\n\t\t\tthis.classifarr[index] = findarr[0]\n\t\t\t// 计算总价：单价 *数量\n\t\t\tif (Number(this.amount) <= 0) {\n\t\t\t\tthis.amount = 0\n\t\t\t}\n\t\t\tlet Totalnum = price * Number(this.amount)\n\t\t\t// // log(Totalnum)\n\t\t\t// // 解决总价为浮点数的情况\n\t\t\tlet Totalprice = parseFloat((Totalnum).toFixed(10))\n\t\t\t// // log(Totalprice)\n\t\t\t// // 把单个商品得到的总价作为一个对象push到数组里，方便后面\n\t\t\t// // 多个商品总价计算时来得到最终的价格\n\t\t\tlet fands = {\n\t\t\t\tid,\n\t\t\t\tTotalprice,\n\t\t\t\t\"amount\": this.amount,\n\t\t\t\tprice\n\t\t\t}\n\t\t\tthis.arrtotalPrice.push(fands)\n\t\t\t// // 查询当前点击的商品_id，替换总价\n\t\t\tlet findarrdata = this.arrtotalPrice.map((item) => {\n\t\t\t\treturn item.id == id ? fands : item\n\t\t\t})\n\t\t\tthis.arrtotalPrice = findarrdata\n\t\t\tconsole.log(this.arrtotalPrice)\n\t\t}\n\t},\n\tcomputed: {\n\t\t// 去结算\n\t\t// settLement(){\n\t\t// \tconsole.log('去结算')\n\t\t// \t// 去结算前的条件就是必须已经登录：到本地存储去查看是否已经有用户信息\n\t\t// \tlet setdata = uni.getStorageSync('usermen')\n\t\t// \tif(!setdata){\n\t\t// \t\tconsole.log('用户没有登录')\n\t\t// \t\t// 弹出模态登录框\n\t\t// \t\tthis.$nextTick(()=>{\n\t\t// \t\t\tthis.$refs.mon.init()\n\t\t// \t\t})\n\t\t// \t}else{\n\t\t// \t\tconsole.log('已经登录')\n\t\t// \t\t// 做支付\n\t\t// \t\t// 需要支付的总金额\n\t\t// \t\t// 配送费\n\t\t// \t\t// 用户openid\n\t\t// \t\t// 商家标识：身份证\n\t\t// \t\t// 商家名称\n\t\t// \t\t// 商家logo\n\t\t// \t\t// 点的商品个数\n\t\t// \t\tlet payment = parseFloat((this.Takeawayprice + this.physical).toFixed(10))\n\t\t// \t\tlet Ordering = {\n\t\t// \t\t\tpayment,\n\t\t// \t\t\tphysical:this.physical,\n\t\t// \t\t\topenid:setdata.openid,\n\t\t// \t\t\tMerchantId:this.MerchantId,\n\t\t// \t\t\tnameshop:this.nameshop,\n\t\t// \t\t\tlogo:this.logo,\n\t\t// \t\t\tallorder:this.Takeleng\n\t\t// \t\t}\n\t\t// \t\t// 路径带数据不能带对象，数组，只能是字符串\n\t\t// \t\tlet strorder = JSON.stringify(Ordering)\n\t\t// \t\twx.navigateTo({\n\t\t// \t\t\turl:'../placeorder/placeorder?ide=' + strorder\n\t\t// \t\t})\n\t\t// \t}\n\t\t\t\n\t\t// },\n\t\tcalculation() {\n\t\t\t// 监听总价\n\t\t\tlet arr = {}\n\t\t\t// 剔除总价为0的商品\n\n\t\t\tlet arrdata = this.arrtotalPrice.reduce((preVal, curVal) => {\n\t\t\t\tarr[curVal.id] ? '' : arr[curVal.id] = true && preVal.push(curVal)\n\t\t\t\treturn preVal\n\t\t\t}, [])\n\t\t\tconsole.log(arrdata)\n\t\t\tthis.Takeleng = 0\n\t\t\tarrdata.forEach((item) => {\n\t\t\t\tif(item.Totalprice != 0){\n\t\t\t\t\tthis.Takeleng+=item.amount\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 所有商品的总价累积之和\n\t\t\tlet numdata = 0\n\t\t\tarrdata.forEach((item) => {\n\t\t\t\tnumdata += item.Totalprice\n\t\t\t})\n\t\t\t// 得到的总价\n\t\t\tthis.Takeawayprice = parseFloat((numdata).toFixed(10))\n\t\t},\n\n\n\t\t// 时候满足下单的条件\n\t\tcondition() {\n\t\t\t// 时候选择任何一个商品\n\t\t\tif (this.Takeawayprice === 0) {\n\t\t\t\tthis.isActive = false\n\t\t\t\tthis.flat = false\n\t\t\t} else {\n\t\t\t\tthis.isActive = true\n\t\t\t\tthis.flat = true\n\t\t\t\tif (this.Takeawayprice < this.delivering) {\n\t\t\t\t\t// 不达到起送金额  还差多少满足 = 起送金额 - 总价 \n\t\t\t\t\tlet preceMen = parseFloat((this.delivering - this.Takeawayprice).toFixed(10))\n\t\t\t\t\tthis.difference = '还差' + preceMen + '元'\n\t\t\t\t\tthis.flat = false\n\t\t\t\t} else {\n\t\t\t\t\tthis.difference = '去结算'\n\t\t\t\t\tthis.flat = true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t},\n\n\n\twatch: {\n\t\titemdata(data) {\n\t\t\tfor (let item in data) {\n\t\t\t\tthis.orderclass.push(item)\n\t\t\t\tthis.itemdata[item].map((item) => {\n\t\t\t\t\tlet key = 'amount'\n\t\t\t\t\tlet value = 0\n\t\t\t\t\treturn item[key] = value\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.classifarr = data[this.orderclass[0]]\n\t\t\tthis.ordertitle = this.orderclass[0]\n\t\t}\n\t}\n}\n"],"sourceRoot":""}